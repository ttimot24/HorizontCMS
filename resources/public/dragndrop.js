import{$ as e,j as d}from"./jquery.js";import"./jquery-ui.js";function c(){var o=function(r,t){var i=t.children(),a=t.clone();return a.children().each(function(n){e(this).width(i.eq(n).width())}),a};function s(){var r=[];e("#page-list-table tbody tr").each(function(t){var i=e(this),a=i.find("td").eq(1).html().split(" ")[0];r[t]=a}),d.post("admin/page/reorder",{_token:e("#orderer").data("csrf"),order:JSON.stringify(r)},function(t,i){console.log("Data: "+t+`
Status: `+i)})}e("#page-list-table tbody").sortable({helper:o,stop:function(r,t){l("#page-list-table"),s()}}).disableSelection(),e("table").on("click",".btn-delete",function(){var r="#"+e(this).closest("table").attr("id"),t=confirm("Delete this item?");t&&(e(this).closest("tr").remove(),l(r))})}function l(o){e(o+" tr").each(function(){var s=e(this).parent().children().index(e(this))+1;e(this).find(".priority").html(s)})}function f(){e("#orderer").toggleClass("btn-default"),e("#orderer").toggleClass("btn-success"),e("#page-list-table").hasClass("order-active")?(e(".torder").remove(),e("#page-list-table").removeClass("order-active")):(e("table").find("tr").each(function(){e(this).find("th").eq(0).before("<th class='col-md-1 torder'>Reorder</th>"),e(this).find("td").eq(0).before("<td class='torder'><i class='well well-sm fa fa-arrows-v' style='border-radius:3px;cursor:grab;font-size:20px;' aria-hidden='true'></i></td>")}),e("#page-list-table").addClass("order-active"),c())}window.dragndroporder=f;
